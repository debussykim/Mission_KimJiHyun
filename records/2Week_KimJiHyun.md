## Title: [2Week] 김지현

### 미션 요구사항 분석 & 체크리스트

---

### 호감표시 예외처리 케이스

- [x]  한명의 인스타회원이 다른 인스타회원에게 중복으로 호감표시를 할 수 없도록 작성
    - [x]  새로 등록 x, 기존 사유 수정 o
    - [x]  처리할 수 없는 경우 rq.historyBack() 호출
- [x]  한명의 인스타회원이 11명 이상의 호감상대를 등록 할 수 없도록 작성
    - [x]  이전과 호감 상대 등록 개수가 변하지 않았는지도 확인

### 2주차 미션 요약

---

**[접근 방법]**

1. **중복 호감 표시를 할 수 없는 케이스 처리**
- 해당 회원이 이미 호감 표시를 한 상대방인지 확인
- 같은 사유인 경우 F-3 실패 코드 반환
- 다른 사유인 경우 S-2 성공 코드 반환 후, 기존 사유 수정
- 테스트 케이스
    - 기존 `likeablePerson` 개체를 검색하고, 좋아요를 받은 사용자의 사용자 이름을 추출하고, `existingLikedUser` 변수로 설정하여 필수 전제 조건 설정
    - 주어진 사용자 아이디를 가진 LikeablePerson 객체가 "insta_user3" 멤버의 fromLikeablePeople 목록에 존재하는지 올바르게 확인
    - fromLikeablePeople 목록에서 대상 인스타 회원의 호감표시 레코드 수를 확인하여 업데이트가 성공(1)했는지 확인

1. **11명 이상 호감 상대 등록 불가능 케이스 처리**
- 호감 상대 등록을 최대 10개로 제한
- user3의 호감 표시 상대를 10명으로 추가해서 테스트
- 이전과 호감 상대 등록 개수가 변하지 않았는지 확인하기 위해서, 테스트를 수행하기 전 기존 호감 상대 목록을 저장

**[특이사항]**

서비스 레벨과 컨트롤러 레벨 중에서 어디에 호감 상대 등록을 10개로 제한하는 검증을 추가하는 것이 더 나은 방향인가 고민해보았습니다. 고민한 결과, 저는 이러한 이유로 컨트롤러 레벨에도 검증 코드를 구현해보았습니다.

- 성능 개선
    - 서비스 레벨에서 제한을 두는 것은 데이터베이스 레벨에서 처리하기 때문에 데이터베이스에 많은 쿼리가 전송되는 경우 성능에 영향을 미칠 수 있습니다. 하지만, 컨트롤러에서 제한을 두면 클라이언트에서 요청하는 데이터의 양을 줄일 수 있기 때문에 서버의 성능 개선에 도움이 될 수 있다고 생각됩니다.
- 유효성 검증
    - 컨트롤러에서 호감 상대 등록을 최대 10개로 제한하는 것은 유효성 검증을 강화하는 데 도움이 됩니다. 클라이언트에서 잘못된 요청을 보내는 경우 서비스 레벨에서 검증을 수행하기 전에 컨트롤러에서 먼저 검증을 하면 잘못된 요청을 빠르게 걸러낼 수 있기 때문입니다.
- 코드 간결성
    - 컨트롤러에서 검증을 수행하면 서비스 레벨에서 중복된 검증 로직을 제거할 수 있을 것입니다. 이렇게 하면 서비스 레벨에서는 비즈니스 로직에 집중할 수 있으며, 코드의 가독성과 유지 보수성이 향상될 거라 생각합니다.

**참고: [Refactoring]**

- UI 개선
- 네이버 로그인 연결